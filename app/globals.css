@tailwind base;
@tailwind components;
@tailwind utilities;

/* Sistema de Diseño Flete MVP - Basado en VetConnect FAVET */
/* Todos los colores deben ser HSL */

@layer base {
  :root {
    /* Flete MVP Design System */
    --background: 210 20% 98%;
    --foreground: 215 60% 15%;

    --card: 0 0% 100%;
    --card-foreground: 215 60% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 215 60% 15%;

    /* Primary: Azul transporte - #1e40af */
    --primary: 221 83% 40%;
    --primary-foreground: 0 0% 100%;
    --primary-light: 221 83% 50%;
    --primary-hover: 221 83% 45%;

    /* Secondary: Azul oscuro */
    --secondary: 215 60% 35%;
    --secondary-foreground: 0 0% 100%;

    /* Accent: Verde logística */
    --accent: 142 76% 36%;
    --accent-foreground: 0 0% 100%;

    --muted: 210 20% 96%;
    --muted-foreground: 215 15% 45%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 214 20% 88%;
    --input: 214 20% 92%;
    --ring: 221 83% 40%;

    --radius: 0.75rem;

    /* Colores de servicios */
    --flete: 217 91% 60%;
    --flete-light: 217 91% 95%;

    --mudanza: 142 76% 36%;
    --mudanza-light: 142 76% 95%;

    --escombros: 25 95% 53%;
    --escombros-light: 25 95% 95%;

    /* Gradientes personalizados */
    --gradient-primary: linear-gradient(135deg, hsl(221 83% 40%) 0%, hsl(221 83% 50%) 100%);
    --gradient-accent: linear-gradient(135deg, hsl(142 76% 36%) 0%, hsl(142 76% 46%) 100%);
    --gradient-subtle: linear-gradient(180deg, hsl(0 0% 100%) 0%, hsl(210 20% 98%) 100%);

    /* Sombras */
    --shadow-card: 0 2px 8px -2px hsl(221 83% 40% / 0.08);
    --shadow-elevated: 0 8px 24px -4px hsl(221 83% 40% / 0.12);
    --shadow-glow: 0 0 32px hsl(221 83% 50% / 0.2);

    /* Transiciones */
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-fast: all 0.15s ease;

    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 221 83% 40%;
  }

  .dark {
    --background: 215 50% 8%;
    --foreground: 210 20% 95%;

    --card: 215 45% 10%;
    --card-foreground: 210 20% 95%;

    --popover: 215 45% 10%;
    --popover-foreground: 210 20% 95%;

    --primary: 221 83% 50%;
    --primary-foreground: 0 0% 100%;
    --primary-light: 221 83% 60%;
    --primary-hover: 221 83% 55%;

    --secondary: 215 60% 45%;
    --secondary-foreground: 210 20% 95%;

    --accent: 142 76% 45%;
    --accent-foreground: 0 0% 100%;

    --muted: 215 40% 15%;
    --muted-foreground: 210 15% 60%;

    --destructive: 0 70% 50%;
    --destructive-foreground: 210 20% 95%;

    --border: 215 35% 20%;
    --input: 215 35% 18%;
    --ring: 221 83% 50%;

    --shadow-card: 0 2px 8px -2px hsl(0 0% 0% / 0.3);
    --shadow-elevated: 0 8px 24px -4px hsl(0 0% 0% / 0.4);
    --shadow-glow: 0 0 32px hsl(221 83% 50% / 0.3);

    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 221 83% 50%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 221 83% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

/* ========================================
   FULLCALENDAR - ESTILO GOOGLE CALENDAR
   ======================================== */

/* Container principal */
.calendar-google-style .fc {
  font-family: inherit;
  font-size: 0.875rem;
}

/* ===== TOOLBAR (Header con controles) ===== */
.calendar-google-style .fc-toolbar {
  @apply mb-4 px-4 pt-4;
}

.calendar-google-style .fc-toolbar-title {
  @apply text-xl font-normal text-gray-900;
  letter-spacing: -0.01em;
}

/* Botones de navegación - Estilo Google Calendar */
.calendar-google-style .fc .fc-button {
  @apply h-9 min-w-[36px] px-3 bg-white border-none text-gray-700 rounded-md font-normal;
  text-transform: capitalize;
  box-shadow: none;
  transition: background-color 0.2s ease;
}

.calendar-google-style .fc .fc-button:hover {
  @apply bg-gray-100;
}

.calendar-google-style .fc .fc-button:active {
  @apply bg-gray-200;
}

.calendar-google-style .fc .fc-button:focus {
  box-shadow: none;
  outline: none;
}

/* Botón "Hoy" - Estilo chip minimalista */
.calendar-google-style .fc .fc-today-button {
  @apply border border-gray-300 hover:border-gray-400 hover:bg-white;
  font-weight: 500;
}

.calendar-google-style .fc .fc-today-button:disabled {
  @apply opacity-40 cursor-default hover:bg-white hover:border-gray-300;
}

/* Flechas prev/next sin fondo */
.calendar-google-style .fc .fc-prev-button,
.calendar-google-style .fc .fc-next-button {
  @apply hover:bg-gray-100;
}

/* Botones de vista (Mes/Semana) */
.calendar-google-style .fc .fc-button-group {
  @apply border border-gray-300 rounded-md overflow-hidden;
}

.calendar-google-style .fc .fc-button-group .fc-button {
  @apply border-none rounded-none h-8 min-w-[60px];
  font-size: 0.8125rem;
}

.calendar-google-style .fc .fc-button-group .fc-button:not(:last-child) {
  @apply border-r border-gray-300;
}

.calendar-google-style .fc .fc-button-active {
  @apply bg-gray-100 text-gray-900 font-medium;
}

/* ===== HEADER DE DÍAS ===== */
.calendar-google-style .fc-col-header {
  @apply border-b border-gray-200;
}

.calendar-google-style .fc-col-header-cell {
  @apply bg-white border-none py-2;
}

.calendar-google-style .fc-col-header-cell-cushion {
  @apply text-xs font-medium text-gray-600 uppercase;
  letter-spacing: 0.5px;
}

/* ===== CELDAS DEL CALENDARIO ===== */
.calendar-google-style .fc-daygrid-day {
  @apply bg-white;
}

.calendar-google-style .fc-daygrid-day-frame {
  @apply min-h-[100px] md:min-h-[120px];
}

/* Bordes ultra finos estilo Google Calendar */
.calendar-google-style .fc-theme-standard td,
.calendar-google-style .fc-theme-standard th {
  border: 1px solid #e5e7eb;
}

.calendar-google-style .fc-theme-standard .fc-scrollgrid {
  border: none;
  border-top: 1px solid #e5e7eb;
}

/* Números de días */
.calendar-google-style .fc-daygrid-day-number {
  @apply text-xs font-normal text-gray-700 py-1 px-2;
  float: none;
  text-align: center;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 26px;
  height: 26px;
  margin: 2px;
}

.calendar-google-style .fc-daygrid-day-top {
  @apply flex justify-start items-start;
  flex-direction: row;
}

/* Día actual - Estilo Google Calendar */
.calendar-google-style .fc-day-today {
  @apply bg-blue-50/30;
}

.calendar-google-style .fc-day-today .fc-daygrid-day-number {
  @apply bg-blue-600 text-white rounded-full font-medium;
}

/* Días fuera del mes actual */
.calendar-google-style .fc-day-other .fc-daygrid-day-number {
  @apply text-gray-400;
}

/* ===== EVENTOS ===== */
/* Contenedor de eventos */
.calendar-google-style .fc-daygrid-day-events {
  @apply mt-1 px-1;
}

/* Evento individual - Estilo Google Calendar plano */
.calendar-google-style .fc-event {
  @apply border-none rounded cursor-pointer mb-0.5;
  padding: 2px 4px;
  margin: 1px 2px;
  box-shadow: none;
  transition: opacity 0.2s ease;
}

.calendar-google-style .fc-event:hover {
  opacity: 0.85;
  transform: none;
  box-shadow: none;
}

/* Colores pastel ultra suaves - Estilo Google Calendar */
.calendar-google-style .fc-event-flete {
  @apply bg-blue-100 text-blue-800;
  border-left: 3px solid #2563eb;
}

.calendar-google-style .fc-event-mudanza {
  @apply bg-purple-100 text-purple-800;
  border-left: 3px solid #9333ea;
}

.calendar-google-style .fc-event-escombros {
  @apply bg-emerald-100 text-emerald-800;
  border-left: 3px solid #059669;
}

/* Contenido del evento */
.calendar-google-style .fc-event-content-wrapper {
  @apply flex items-start gap-1;
}

.calendar-google-style .fc-event-time {
  @apply text-[10px] font-medium opacity-90 shrink-0;
}

.calendar-google-style .fc-event-title-wrapper {
  @apply flex-1 min-w-0;
}

.calendar-google-style .fc-event-title {
  @apply text-[11px] font-normal truncate leading-tight;
}

/* Botón "more" cuando hay muchos eventos */
.calendar-google-style .fc-daygrid-more-link {
  @apply text-xs text-gray-600 hover:text-gray-900 font-normal px-2;
}

/* ===== RESPONSIVE MOBILE ===== */
@media (max-width: 768px) {
  /* Hacer el calendario más compacto en móvil */
  .calendar-google-style .fc-toolbar {
    @apply px-2 pt-2 mb-2 flex-col gap-2;
  }

  .calendar-google-style .fc-toolbar-chunk {
    @apply flex justify-center;
  }

  .calendar-google-style .fc-toolbar-title {
    @apply text-lg;
  }

  .calendar-google-style .fc-daygrid-day-frame {
    @apply min-h-[80px];
  }

  .calendar-google-style .fc-daygrid-day-number {
    @apply text-[11px] w-5 h-5;
  }

  .calendar-google-style .fc-event {
    padding: 1px 3px;
    margin: 0.5px 1px;
  }

  .calendar-google-style .fc-event-time {
    @apply text-[9px];
  }

  .calendar-google-style .fc-event-title {
    @apply text-[10px];
  }

  /* Ocultar vista semanal en móvil */
  .calendar-google-style .fc-timeGridWeek-button {
    @apply hidden;
  }
}

/* Animaciones adicionales */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-in {
  from {
    transform: translateY(-10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes scale-in {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* Scrollbar personalizada */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-muted;
}

::-webkit-scrollbar-thumb {
  @apply bg-muted-foreground/30 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-muted-foreground/50;
}

/* Estilos mejorados para inputs de fecha y hora - Estilo ERP moderno */
input[type="datetime-local"],
input[type="date"],
input[type="time"] {
  @apply relative cursor-pointer;
  font-variant-numeric: tabular-nums;
}

input[type="datetime-local"]::-webkit-calendar-picker-indicator,
input[type="date"]::-webkit-calendar-picker-indicator,
input[type="time"]::-webkit-calendar-picker-indicator {
  @apply cursor-pointer opacity-70 hover:opacity-100 transition-opacity;
  background: transparent;
  color: hsl(var(--primary));
  padding: 4px;
  margin-left: 4px;
}

input[type="datetime-local"]:focus,
input[type="date"]:focus,
input[type="time"]:focus {
  @apply ring-2 ring-primary ring-offset-2;
}
